<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Fault Tolerance Interface: src/meta.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Fault Tolerance Interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">meta.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Metadata functions for the FTI library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="fti_8h_source.html">fti.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for meta.c:</div>
<div class="dyncontent">
<div class="center"><img src="meta_8c__incl.png" border="0" usemap="#src_2meta_8c" alt=""/></div>
<map name="src_2meta_8c" id="src_2meta_8c">
<area shape="rect" id="node2" href="fti_8h.html" title="Header file for the FTI library. " alt="" coords="402,80,445,107"/><area shape="rect" id="node11" href="iniparser_8h.html" title="Parser for ini files. " alt="" coords="237,155,319,181"/><area shape="rect" id="node13" href="galois_8h.html" title="galois.h" alt="" coords="625,229,692,256"/><area shape="rect" id="node14" href="jerasure_8h.html" title="jerasure.h" alt="" coords="643,155,721,181"/><area shape="rect" id="node12" href="dictionary_8h.html" title="Implements a dictionary for string variables. " alt="" coords="262,229,351,256"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aded40228f27b54245ba7e64123fbac6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="meta_8c.html#aded40228f27b54245ba7e64123fbac6f">FTI_GetMeta</a> (unsigned long *fs, unsigned long *mfs, int group, int level)</td></tr>
<tr class="memdesc:aded40228f27b54245ba7e64123fbac6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">It gets the metadata to recover the data after a failure.  <a href="#aded40228f27b54245ba7e64123fbac6f">More...</a><br/></td></tr>
<tr class="separator:aded40228f27b54245ba7e64123fbac6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe1bb8f30f411e9c18c73c809e30b95b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="meta_8c.html#afe1bb8f30f411e9c18c73c809e30b95b">FTI_WriteMetadata</a> (unsigned long *fs, unsigned long mfs, char *fnl)</td></tr>
<tr class="memdesc:afe1bb8f30f411e9c18c73c809e30b95b"><td class="mdescLeft">&#160;</td><td class="mdescRight">It writes the metadata to recover the data after a failure.  <a href="#afe1bb8f30f411e9c18c73c809e30b95b">More...</a><br/></td></tr>
<tr class="separator:afe1bb8f30f411e9c18c73c809e30b95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa3bd0c0d0bbaaa91091eac4aa5086e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="meta_8c.html#afa3bd0c0d0bbaaa91091eac4aa5086e7">FTI_CreateMetadata</a> (int globalTmp)</td></tr>
<tr class="memdesc:afa3bd0c0d0bbaaa91091eac4aa5086e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">It writes the metadata to recover the data after a failure.  <a href="#afa3bd0c0d0bbaaa91091eac4aa5086e7">More...</a><br/></td></tr>
<tr class="separator:afa3bd0c0d0bbaaa91091eac4aa5086e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Metadata functions for the FTI library. </p>
<dl class="section author"><dt>Author</dt><dd>Leonardo A. Bautista Gomez (<a href="#" onclick="location.href='mai'+'lto:'+'leo'+'ba'+'go@'+'gm'+'ail'+'.c'+'om'; return false;">leoba<span style="display: none;">.nosp@m.</span>go@g<span style="display: none;">.nosp@m.</span>mail.<span style="display: none;">.nosp@m.</span>com</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>December, 2013 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afa3bd0c0d0bbaaa91091eac4aa5086e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_CreateMetadata </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>globalTmp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It writes the metadata to recover the data after a failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">globalTmp</td><td>1 if using global temporary directory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successfull.</dd></dl>
<p>This function gathers information about the checkpoint files in the group (name and sizes), and creates the metadata file used to recover in case of failure. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="meta_8c_afa3bd0c0d0bbaaa91091eac4aa5086e7_cgraph.png" border="0" usemap="#meta_8c_afa3bd0c0d0bbaaa91091eac4aa5086e7_cgraph" alt=""/></div>
<map name="meta_8c_afa3bd0c0d0bbaaa91091eac4aa5086e7_cgraph" id="meta_8c_afa3bd0c0d0bbaaa91091eac4aa5086e7_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="409,5,485,32"/><area shape="rect" id="node3" href="tools_8c.html#a950803008f7cef4892fbba9b2069928e" title="Receive the return code of a function and print a message. " alt="" coords="231,56,299,83"/><area shape="rect" id="node4" href="meta_8c.html#afe1bb8f30f411e9c18c73c809e30b95b" title="It writes the metadata to recover the data after a failure. " alt="" coords="198,107,333,133"/><area shape="rect" id="node5" href="iniparser_8h.html#ab0be559bfb769224b3f1b75e26242a67" title="Parse an ini file and return an allocated dictionary object. " alt="" coords="395,56,498,83"/><area shape="rect" id="node6" href="iniparser_8h.html#ad526324b54dbfe04d636360883f4f874" title="Set an entry in a dictionary. " alt="" coords="399,107,495,133"/><area shape="rect" id="node7" href="iniparser_8h.html#a2ecced40f104f8d629748bb12c1f6b6b" title="Delete an entry in a dictionary. " alt="" coords="391,157,502,184"/><area shape="rect" id="node8" href="iniparser_8h.html#a90549ee518523921886b74454ff872eb" title="Free all memory associated to an ini dictionary. " alt="" coords="386,208,507,235"/><area shape="rect" id="node9" href="iniparser_8h.html#aece0e32de371c9e9592d8333f816dfac" title="Save a dictionary to a loadable ini file. " alt="" coords="381,259,512,285"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aded40228f27b54245ba7e64123fbac6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_GetMeta </td>
          <td>(</td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>mfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It gets the metadata to recover the data after a failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fs</td><td>Pointer to fill the checkpoint file size. </td></tr>
    <tr><td class="paramname">mfs</td><td>Pointer to fill the maximum file size. </td></tr>
    <tr><td class="paramname">group</td><td>The group in the node. </td></tr>
    <tr><td class="paramname">level</td><td>The level of the ckpt or 0 if tmp. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successfull.</dd></dl>
<p>This function read the metadata file created during checkpointing and recover the checkpoint file name, file size and the size of the largest file in the group (for padding if ncessary during decoding). </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="meta_8c_aded40228f27b54245ba7e64123fbac6f_cgraph.png" border="0" usemap="#meta_8c_aded40228f27b54245ba7e64123fbac6f_cgraph" alt=""/></div>
<map name="meta_8c_aded40228f27b54245ba7e64123fbac6f_cgraph" id="meta_8c_aded40228f27b54245ba7e64123fbac6f_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="178,5,254,32"/><area shape="rect" id="node3" href="iniparser_8h.html#ab0be559bfb769224b3f1b75e26242a67" title="Parse an ini file and return an allocated dictionary object. " alt="" coords="165,56,267,83"/><area shape="rect" id="node4" href="iniparser_8h.html#a7894f8480e1f254d4a1b4a31bdc51b46" title="Get the string associated to a key. " alt="" coords="152,107,280,133"/><area shape="rect" id="node5" href="iniparser_8h.html#a694eb1110f4200db8648820a0bb405fa" title="Get the string associated to a key, convert to an int. " alt="" coords="161,157,271,184"/><area shape="rect" id="node6" href="iniparser_8h.html#a90549ee518523921886b74454ff872eb" title="Free all memory associated to an ini dictionary. " alt="" coords="155,208,277,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe1bb8f30f411e9c18c73c809e30b95b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_WriteMetadata </td>
          <td>(</td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>mfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fnl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It writes the metadata to recover the data after a failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fs</td><td>Pointer to the list of checkpoint sizes. </td></tr>
    <tr><td class="paramname">mfs</td><td>The maximum checkpoint file size. </td></tr>
    <tr><td class="paramname">fnl</td><td>Pointer to the list of checkpoint names. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successfull.</dd></dl>
<p>This function should be executed only by one process per group. It writes the metadata file used to recover in case of failure. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="meta_8c_afe1bb8f30f411e9c18c73c809e30b95b_cgraph.png" border="0" usemap="#meta_8c_afe1bb8f30f411e9c18c73c809e30b95b_cgraph" alt=""/></div>
<map name="meta_8c_afe1bb8f30f411e9c18c73c809e30b95b_cgraph" id="meta_8c_afe1bb8f30f411e9c18c73c809e30b95b_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="217,5,293,32"/><area shape="rect" id="node3" href="iniparser_8h.html#ab0be559bfb769224b3f1b75e26242a67" title="Parse an ini file and return an allocated dictionary object. " alt="" coords="203,56,306,83"/><area shape="rect" id="node4" href="iniparser_8h.html#ad526324b54dbfe04d636360883f4f874" title="Set an entry in a dictionary. " alt="" coords="207,107,303,133"/><area shape="rect" id="node5" href="iniparser_8h.html#a2ecced40f104f8d629748bb12c1f6b6b" title="Delete an entry in a dictionary. " alt="" coords="199,157,310,184"/><area shape="rect" id="node6" href="iniparser_8h.html#a90549ee518523921886b74454ff872eb" title="Free all memory associated to an ini dictionary. " alt="" coords="194,208,315,235"/><area shape="rect" id="node7" href="iniparser_8h.html#aece0e32de371c9e9592d8333f816dfac" title="Save a dictionary to a loadable ini file. " alt="" coords="189,259,320,285"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 13 2014 23:12:14 for Fault Tolerance Interface by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
