<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Fault Tolerance Interface: /home/kellekai/WORK/FTI/FTI-REPO-LEO/src/checkpoint.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fault Tolerance Interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>What&#160;is&#160;FTI</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes/Modules</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('checkpoint_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">checkpoint.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Checkpointing functions for the <a class="el" href="namespaceFTI.html" title="Modul: FTI. ">FTI</a> library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="interface_8h_source.html">interface.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for checkpoint.c:</div>
<div class="dyncontent">
<div class="center"><img src="checkpoint_8c__incl.png" border="0" usemap="#_2home_2kellekai_2WORK_2FTI_2FTI-REPO-LEO_2src_2checkpoint_8c" alt=""/></div>
<map name="_2home_2kellekai_2WORK_2FTI_2FTI-REPO-LEO_2src_2checkpoint_8c" id="_2home_2kellekai_2WORK_2FTI_2FTI-REPO-LEO_2src_2checkpoint_8c">
<area shape="rect" id="node3" href="interface_8h.html" title="Header file for the FTI library private functions. " alt="" coords="1529,109,1612,136"/>
<area shape="rect" id="node4" href="fti_8h.html" title="Header file for the FTI library. " alt="" coords="195,273,239,300"/>
<area shape="rect" id="node10" href="ftiff_8h.html" title="Header file for the FTI File Format (FTI&#45;FF). " alt="" coords="315,191,365,218"/>
<area shape="rect" id="node18" href="stage_8h.html" title="stage.h" alt="" coords="1298,191,1363,218"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3024ccd4a9af5109d24e6c57565d74a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checkpoint_8c.html#a3024ccd4a9af5109d24e6c57565d74a1">_POSIX_C_SOURCE</a>&#160;&#160;&#160;200809L</td></tr>
<tr class="separator:a3024ccd4a9af5109d24e6c57565d74a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8479ea8ec8132ae55da9a6573f3d7440"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checkpoint_8c.html#a8479ea8ec8132ae55da9a6573f3d7440">FTI_UpdateIterTime</a> (<a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec)</td></tr>
<tr class="memdesc:a8479ea8ec8132ae55da9a6573f3d7440"><td class="mdescLeft">&#160;</td><td class="mdescRight">It updates the local and global mean iteration time.  <a href="#a8479ea8ec8132ae55da9a6573f3d7440">More...</a><br /></td></tr>
<tr class="separator:a8479ea8ec8132ae55da9a6573f3d7440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656858362954a335040262a54a0235ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checkpoint_8c.html#a656858362954a335040262a54a0235ce">FTI_WriteCkpt</a> (<a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf, <a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, <a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *FTI_Ckpt, <a class="el" href="structFTIT__dataset.html">FTIT_dataset</a> *FTI_Data)</td></tr>
<tr class="memdesc:a656858362954a335040262a54a0235ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">It writes the checkpoint data in the target file.  <a href="#a656858362954a335040262a54a0235ce">More...</a><br /></td></tr>
<tr class="separator:a656858362954a335040262a54a0235ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a304411ac19756871bac1eec1517bc57b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checkpoint_8c.html#a304411ac19756871bac1eec1517bc57b">FTI_PostCkpt</a> (<a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf, <a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, <a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *FTI_Ckpt)</td></tr>
<tr class="memdesc:a304411ac19756871bac1eec1517bc57b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decides wich action start depending on the ckpt. level.  <a href="#a304411ac19756871bac1eec1517bc57b">More...</a><br /></td></tr>
<tr class="separator:a304411ac19756871bac1eec1517bc57b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305fb1ae4c686e64fe62c9429d2f4f4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checkpoint_8c.html#a305fb1ae4c686e64fe62c9429d2f4f4c">FTI_Listen</a> (<a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf, <a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, <a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *FTI_Ckpt)</td></tr>
<tr class="memdesc:a305fb1ae4c686e64fe62c9429d2f4f4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">It listens for checkpoint notifications.  <a href="#a305fb1ae4c686e64fe62c9429d2f4f4c">More...</a><br /></td></tr>
<tr class="separator:a305fb1ae4c686e64fe62c9429d2f4f4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa0457202662dc64ce0194d6a205ba8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checkpoint_8c.html#a5fa0457202662dc64ce0194d6a205ba8">FTI_HandleCkptRequest</a> (<a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf, <a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, <a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *FTI_Ckpt)</td></tr>
<tr class="memdesc:a5fa0457202662dc64ce0194d6a205ba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">handles checkpoint requests from application ranks (if head).  <a href="#a5fa0457202662dc64ce0194d6a205ba8">More...</a><br /></td></tr>
<tr class="separator:a5fa0457202662dc64ce0194d6a205ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3b43aa19aa8f910f58227e7e41f5b65"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checkpoint_8c.html#aa3b43aa19aa8f910f58227e7e41f5b65">FTI_WritePosix</a> (<a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf, <a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, <a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *FTI_Ckpt, <a class="el" href="structFTIT__dataset.html">FTIT_dataset</a> *FTI_Data)</td></tr>
<tr class="memdesc:aa3b43aa19aa8f910f58227e7e41f5b65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes ckpt to PFS using POSIX.  <a href="#aa3b43aa19aa8f910f58227e7e41f5b65">More...</a><br /></td></tr>
<tr class="separator:aa3b43aa19aa8f910f58227e7e41f5b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8fc5a03c1867580fff65eed75e2d0d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checkpoint_8c.html#ae8fc5a03c1867580fff65eed75e2d0d3">FTI_WriteMPI</a> (<a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf, <a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, <a class="el" href="structFTIT__dataset.html">FTIT_dataset</a> *FTI_Data)</td></tr>
<tr class="memdesc:ae8fc5a03c1867580fff65eed75e2d0d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes ckpt to PFS using MPI I/O.  <a href="#ae8fc5a03c1867580fff65eed75e2d0d3">More...</a><br /></td></tr>
<tr class="separator:ae8fc5a03c1867580fff65eed75e2d0d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f20285e1ca49847b7764bdd8ec21a9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checkpoint_8c.html#a7f20285e1ca49847b7764bdd8ec21a9a">FTI_WriteSionlib</a> (<a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf, <a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, <a class="el" href="structFTIT__dataset.html">FTIT_dataset</a> *FTI_Data)</td></tr>
<tr class="memdesc:a7f20285e1ca49847b7764bdd8ec21a9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes ckpt to PFS using SIONlib.  <a href="#a7f20285e1ca49847b7764bdd8ec21a9a">More...</a><br /></td></tr>
<tr class="separator:a7f20285e1ca49847b7764bdd8ec21a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Checkpointing functions for the <a class="el" href="namespaceFTI.html" title="Modul: FTI. ">FTI</a> library. </p>
<p>Copyright (c) 2017 Leonardo A. Bautista-Gomez All rights reserved</p>
<p><a class="el" href="namespaceFTI.html" title="Modul: FTI. ">FTI</a> - A multi-level checkpointing library for C/C++/Fortran applications</p>
<p>Revision 1.0 : Fault Tolerance Interface (<a class="el" href="namespaceFTI.html" title="Modul: FTI. ">FTI</a>)</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<dl class="section date"><dt>Date</dt><dd>October, 2017 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a3024ccd4a9af5109d24e6c57565d74a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _POSIX_C_SOURCE&#160;&#160;&#160;200809L</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5fa0457202662dc64ce0194d6a205ba8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_HandleCkptRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *&#160;</td>
          <td class="paramname"><em>FTI_Ckpt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>handles checkpoint requests from application ranks (if head). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata. </td></tr>
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">FTI_Ckpt</td><td>Checkpoint metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="checkpoint_8c_a5fa0457202662dc64ce0194d6a205ba8_cgraph.png" border="0" usemap="#checkpoint_8c_a5fa0457202662dc64ce0194d6a205ba8_cgraph" alt=""/></div>
<map name="checkpoint_8c_a5fa0457202662dc64ce0194d6a205ba8_cgraph" id="checkpoint_8c_a5fa0457202662dc64ce0194d6a205ba8_cgraph">
<area shape="rect" id="node2" href="api_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="779,538,855,564"/>
<area shape="rect" id="node3" href="interface_8h.html#a950803008f7cef4892fbba9b2069928e" title="It receives the return code of a function and prints a message. " alt="" coords="609,690,676,716"/>
<area shape="rect" id="node4" href="checkpoint_8c.html#a304411ac19756871bac1eec1517bc57b" title="Decides wich action start depending on the ckpt. level. " alt="" coords="220,526,324,552"/>
<area shape="rect" id="node19" href="interface_8h.html#a09811bb56f318eab67b3d37bff86cf7f" title="It erases the previous checkpoints and their metadata. " alt="" coords="398,132,481,159"/>
<area shape="rect" id="node5" href="interface_8h.html#af7ae0209528e53e50e05c8cb94262474" title="It flushes the local ckpt. files in to the PFS. " alt="" coords="399,386,480,412"/>
<area shape="rect" id="node10" href="interface_8h.html#ac51ee488086a65a8d0895e1ea814e500" title="It performs RS encoding with the ckpt. files in to the group. " alt="" coords="395,588,484,615"/>
<area shape="rect" id="node15" href="interface_8h.html#a47241e3cb00aa83c7b872b91403a0742" title="It copies ckpt. files in to the partner node. " alt="" coords="399,766,479,792"/>
<area shape="rect" id="node18" href="interface_8h.html#a42f96444bd70ea9e017815f015b3e0c3" title="It returns FTI_SCES. " alt="" coords="399,879,479,906"/>
<area shape="rect" id="node21" href="interface_8h.html#ab9e3ad14022d3a4fa101bdc4e36cf2c2" title="It moves the level 4 ckpt. to the archive folder. " alt="" coords="372,962,507,988"/>
<area shape="rect" id="node6" href="interface_8h.html#afce9f65bec69ebda8443d7038a762dff" title="It gets the metadata to recover the data after a failure. " alt="" coords="589,436,696,463"/>
<area shape="rect" id="node7" href="postckpt_8c.html#aca74ba7dfa6daf939480ae5cee1559ed" title="It flushes the local ckpt. files in to the PFS using POSIX. " alt="" coords="585,234,700,260"/>
<area shape="rect" id="node8" href="postckpt_8c.html#a942405074f2ad9c0d05ae4dc34b43b1a" title="It flushes the local ckpt. files in to the PFS using MPI&#45;I/O. " alt="" coords="591,284,695,311"/>
<area shape="rect" id="node9" href="postckpt_8c.html#acfa35381a751a5ad7aae5a73dc080524" title="It flushes the local ckpt. files in to the PFS using SIONlib. " alt="" coords="583,335,703,362"/>
<area shape="rect" id="node11" href="interface_8h.html#a5ed5581a61c8d9ecbf067ce3dee7ae2a" title="It gets the temporary metadata. " alt="" coords="577,740,709,767"/>
<area shape="rect" id="node12" href="ftiff_8c.html#a5e2c943fe1bd7e487a0911b5203ad9d7" title="Computes hash of the FTI&#45;FF file meta data structure. " alt="" coords="559,487,727,514"/>
<area shape="rect" id="node13" href="ftiff_8c.html#a9f60f1e2979942619c3c346f4fa56ad9" title="serializes FTI&#45;FF file meta data " alt="" coords="560,639,725,666"/>
<area shape="rect" id="node14" href="interface_8h.html#aef8bec8995924872533354e23cbe9c55" title="It writes the RSed file checksum to metadata. " alt="" coords="555,538,731,564"/>
<area shape="rect" id="node16" href="postckpt_8c.html#a4f2290436308b66400ea6a3442ee3204" title="It sends Ckpt file. " alt="" coords="589,892,696,919"/>
<area shape="rect" id="node17" href="postckpt_8c.html#a0a76016a8c02ccb729df3b6112e2b0be" title="It receives Ptner file. " alt="" coords="587,791,698,818"/>
<area shape="rect" id="node20" href="tools_8c.html#ac4bfe54a9748e8915a5a43c17b334452" title="It erases a directory and all its files. " alt="" coords="599,82,686,108"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a305fb1ae4c686e64fe62c9429d2f4f4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_Listen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *&#160;</td>
          <td class="paramname"><em>FTI_Ckpt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It listens for checkpoint notifications. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata. </td></tr>
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">FTI_Ckpt</td><td>Checkpoint metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful. This function listens for notifications from the application processes and takes the required actions after notification. This function is only executed by the head of the nodes and its complementary with the FTI_Checkpoint function in terms of communications. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="checkpoint_8c_a305fb1ae4c686e64fe62c9429d2f4f4c_cgraph.png" border="0" usemap="#checkpoint_8c_a305fb1ae4c686e64fe62c9429d2f4f4c_cgraph" alt=""/></div>
<map name="checkpoint_8c_a305fb1ae4c686e64fe62c9429d2f4f4c_cgraph" id="checkpoint_8c_a305fb1ae4c686e64fe62c9429d2f4f4c_cgraph">
<area shape="rect" id="node2" href="api_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="957,643,1033,670"/>
<area shape="rect" id="node3" href="checkpoint_8c.html#a5fa0457202662dc64ce0194d6a205ba8" title="handles checkpoint requests from application ranks (if head). " alt="" coords="141,592,307,619"/>
<area shape="rect" id="node23" href="interface_8h.html#a7e59d3bafaa826d69a91493c80a417e3" title="This function asynchronously stages the local file to the PFS. " alt="" coords="137,694,311,720"/>
<area shape="rect" id="node24" href="fti_8h.html#aa58102aa8540ed35f2efba23cf2dc19b" title="It closes FTI properly on the application processes. " alt="" coords="363,1124,458,1151"/>
<area shape="rect" id="node4" href="interface_8h.html#a950803008f7cef4892fbba9b2069928e" title="It receives the return code of a function and prints a message. " alt="" coords="788,567,855,594"/>
<area shape="rect" id="node5" href="checkpoint_8c.html#a304411ac19756871bac1eec1517bc57b" title="Decides wich action start depending on the ckpt. level. " alt="" coords="359,618,463,644"/>
<area shape="rect" id="node20" href="interface_8h.html#a09811bb56f318eab67b3d37bff86cf7f" title="It erases the previous checkpoints and their metadata. " alt="" coords="557,972,639,999"/>
<area shape="rect" id="node6" href="interface_8h.html#af7ae0209528e53e50e05c8cb94262474" title="It flushes the local ckpt. files in to the PFS. " alt="" coords="557,807,639,834"/>
<area shape="rect" id="node11" href="interface_8h.html#ac51ee488086a65a8d0895e1ea814e500" title="It performs RS encoding with the ckpt. files in to the group. " alt="" coords="553,314,643,340"/>
<area shape="rect" id="node16" href="interface_8h.html#a47241e3cb00aa83c7b872b91403a0742" title="It copies ckpt. files in to the partner node. " alt="" coords="558,491,638,518"/>
<area shape="rect" id="node19" href="interface_8h.html#a42f96444bd70ea9e017815f015b3e0c3" title="It returns FTI_SCES. " alt="" coords="558,618,638,644"/>
<area shape="rect" id="node22" href="interface_8h.html#ab9e3ad14022d3a4fa101bdc4e36cf2c2" title="It moves the level 4 ckpt. to the archive folder. " alt="" coords="531,668,665,695"/>
<area shape="rect" id="node7" href="interface_8h.html#afce9f65bec69ebda8443d7038a762dff" title="It gets the metadata to recover the data after a failure. " alt="" coords="768,719,875,746"/>
<area shape="rect" id="node8" href="postckpt_8c.html#aca74ba7dfa6daf939480ae5cee1559ed" title="It flushes the local ckpt. files in to the PFS using POSIX. " alt="" coords="764,770,879,796"/>
<area shape="rect" id="node9" href="postckpt_8c.html#a942405074f2ad9c0d05ae4dc34b43b1a" title="It flushes the local ckpt. files in to the PFS using MPI&#45;I/O. " alt="" coords="769,820,873,847"/>
<area shape="rect" id="node10" href="postckpt_8c.html#acfa35381a751a5ad7aae5a73dc080524" title="It flushes the local ckpt. files in to the PFS using SIONlib. " alt="" coords="761,871,881,898"/>
<area shape="rect" id="node12" href="interface_8h.html#a5ed5581a61c8d9ecbf067ce3dee7ae2a" title="It gets the temporary metadata. " alt="" coords="755,364,887,391"/>
<area shape="rect" id="node13" href="ftiff_8c.html#a5e2c943fe1bd7e487a0911b5203ad9d7" title="Computes hash of the FTI&#45;FF file meta data structure. " alt="" coords="737,162,905,188"/>
<area shape="rect" id="node14" href="ftiff_8c.html#a9f60f1e2979942619c3c346f4fa56ad9" title="serializes FTI&#45;FF file meta data " alt="" coords="739,263,904,290"/>
<area shape="rect" id="node15" href="interface_8h.html#aef8bec8995924872533354e23cbe9c55" title="It writes the RSed file checksum to metadata. " alt="" coords="733,314,909,340"/>
<area shape="rect" id="node17" href="postckpt_8c.html#a4f2290436308b66400ea6a3442ee3204" title="It sends Ckpt file. " alt="" coords="768,466,875,492"/>
<area shape="rect" id="node18" href="postckpt_8c.html#a0a76016a8c02ccb729df3b6112e2b0be" title="It receives Ptner file. " alt="" coords="766,516,877,543"/>
<area shape="rect" id="node21" href="tools_8c.html#ac4bfe54a9748e8915a5a43c17b334452" title="It erases a directory and all its files. " alt="" coords="778,1023,865,1050"/>
<area shape="rect" id="node25" href="interface_8h.html#a099b42118594b7ec8469348819bfaf93" title="It frees memory for the metadata. " alt="" coords="546,1276,650,1303"/>
<area shape="rect" id="node26" href="stage_8c.html#acf6cca854e653c7c23d24011f5b3afc4" title="Finalizes staging feature. " alt="" coords="534,1226,662,1252"/>
<area shape="rect" id="node27" href="interface_8h.html#ac4bfe54a9748e8915a5a43c17b334452" title="It erases a directory and all its files. " alt="" coords="778,1226,865,1252"/>
<area shape="rect" id="node28" href="conf_8c.html#a072119e00ecaef96e6b516174beb0321" title="Sets the exec. ID and failure parameters in the conf. file. " alt="" coords="539,1124,657,1151"/>
<area shape="rect" id="node29" href="diff-checkpoint_8c.html#ac5f11bac86b0c6815d8bc45177b4c7ce" title="Finalizes dCP. " alt="" coords="539,1327,657,1354"/>
<area shape="rect" id="node30" href="interface_8h.html#a152b83c7a93371bef4f0bcbe34620d6e" title="It frees memory for the types. " alt="" coords="511,1175,685,1202"/>
<area shape="rect" id="node31" href="ftiff_8c.html#a4d3760899485150948b92c05fe1b37fe" title="Frees allocated memory for the FTI&#45;FF meta data struct list. " alt="" coords="526,1378,670,1404"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a304411ac19756871bac1eec1517bc57b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_PostCkpt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *&#160;</td>
          <td class="paramname"><em>FTI_Ckpt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decides wich action start depending on the ckpt. level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata. </td></tr>
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">FTI_Ckpt</td><td>Checkpoint metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function launches the required action dependeing on the ckpt. level. It does that for each group (application process in the node) if executed by the head, or only locally if executed by an application process. The parameter pr determines if the for loops have 1 or number of App. procs. iterations. The group parameter helps determine the groupID in both cases. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="checkpoint_8c_a304411ac19756871bac1eec1517bc57b_cgraph.png" border="0" usemap="#checkpoint_8c_a304411ac19756871bac1eec1517bc57b_cgraph" alt=""/></div>
<map name="checkpoint_8c_a304411ac19756871bac1eec1517bc57b_cgraph" id="checkpoint_8c_a304411ac19756871bac1eec1517bc57b_cgraph">
<area shape="rect" id="node2" href="interface_8h.html#af7ae0209528e53e50e05c8cb94262474" title="It flushes the local ckpt. files in to the PFS. " alt="" coords="184,360,265,387"/>
<area shape="rect" id="node3" href="api_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="564,436,640,463"/>
<area shape="rect" id="node9" href="interface_8h.html#ac51ee488086a65a8d0895e1ea814e500" title="It performs RS encoding with the ckpt. files in to the group. " alt="" coords="180,614,269,640"/>
<area shape="rect" id="node14" href="interface_8h.html#a47241e3cb00aa83c7b872b91403a0742" title="It copies ckpt. files in to the partner node. " alt="" coords="185,791,265,818"/>
<area shape="rect" id="node17" href="interface_8h.html#a42f96444bd70ea9e017815f015b3e0c3" title="It returns FTI_SCES. " alt="" coords="185,6,265,32"/>
<area shape="rect" id="node18" href="interface_8h.html#a09811bb56f318eab67b3d37bff86cf7f" title="It erases the previous checkpoints and their metadata. " alt="" coords="183,183,266,210"/>
<area shape="rect" id="node20" href="interface_8h.html#ab9e3ad14022d3a4fa101bdc4e36cf2c2" title="It moves the level 4 ckpt. to the archive folder. " alt="" coords="157,56,292,83"/>
<area shape="rect" id="node4" href="interface_8h.html#a950803008f7cef4892fbba9b2069928e" title="It receives the return code of a function and prints a message. " alt="" coords="395,664,461,691"/>
<area shape="rect" id="node5" href="interface_8h.html#afce9f65bec69ebda8443d7038a762dff" title="It gets the metadata to recover the data after a failure. " alt="" coords="375,411,481,438"/>
<area shape="rect" id="node6" href="postckpt_8c.html#aca74ba7dfa6daf939480ae5cee1559ed" title="It flushes the local ckpt. files in to the PFS using POSIX. " alt="" coords="371,462,485,488"/>
<area shape="rect" id="node7" href="postckpt_8c.html#a942405074f2ad9c0d05ae4dc34b43b1a" title="It flushes the local ckpt. files in to the PFS using MPI&#45;I/O. " alt="" coords="376,259,480,286"/>
<area shape="rect" id="node8" href="postckpt_8c.html#acfa35381a751a5ad7aae5a73dc080524" title="It flushes the local ckpt. files in to the PFS using SIONlib. " alt="" coords="368,310,488,336"/>
<area shape="rect" id="node10" href="interface_8h.html#a5ed5581a61c8d9ecbf067ce3dee7ae2a" title="It gets the temporary metadata. " alt="" coords="362,766,494,792"/>
<area shape="rect" id="node11" href="ftiff_8c.html#a5e2c943fe1bd7e487a0911b5203ad9d7" title="Computes hash of the FTI&#45;FF file meta data structure. " alt="" coords="344,614,512,640"/>
<area shape="rect" id="node12" href="ftiff_8c.html#a9f60f1e2979942619c3c346f4fa56ad9" title="serializes FTI&#45;FF file meta data " alt="" coords="345,512,511,539"/>
<area shape="rect" id="node13" href="interface_8h.html#aef8bec8995924872533354e23cbe9c55" title="It writes the RSed file checksum to metadata. " alt="" coords="340,563,516,590"/>
<area shape="rect" id="node15" href="postckpt_8c.html#a4f2290436308b66400ea6a3442ee3204" title="It sends Ckpt file. " alt="" coords="375,867,481,894"/>
<area shape="rect" id="node16" href="postckpt_8c.html#a0a76016a8c02ccb729df3b6112e2b0be" title="It receives Ptner file. " alt="" coords="373,918,483,944"/>
<area shape="rect" id="node19" href="tools_8c.html#ac4bfe54a9748e8915a5a43c17b334452" title="It erases a directory and all its files. " alt="" coords="385,208,471,235"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8479ea8ec8132ae55da9a6573f3d7440"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_UpdateIterTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It updates the local and global mean iteration time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function updates the local and global mean iteration time. It also recomputes the checkpoint interval in iterations and corrects the next checkpointing iteration based on the observed mean iteration duration. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="checkpoint_8c_a8479ea8ec8132ae55da9a6573f3d7440_cgraph.png" border="0" usemap="#checkpoint_8c_a8479ea8ec8132ae55da9a6573f3d7440_cgraph" alt=""/></div>
<map name="checkpoint_8c_a8479ea8ec8132ae55da9a6573f3d7440_cgraph" id="checkpoint_8c_a8479ea8ec8132ae55da9a6573f3d7440_cgraph">
<area shape="rect" id="node2" href="api_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="192,5,268,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a656858362954a335040262a54a0235ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_WriteCkpt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *&#160;</td>
          <td class="paramname"><em>FTI_Ckpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__dataset.html">FTIT_dataset</a> *&#160;</td>
          <td class="paramname"><em>FTI_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It writes the checkpoint data in the target file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata. </td></tr>
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">FTI_Ckpt</td><td>Checkpoint metadata. </td></tr>
    <tr><td class="paramname">FTI_Data</td><td>Dataset metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function checks whether the checkpoint needs to be local or remote, opens the target file and writes dataset per dataset, the checkpoint data, it finally flushes and closes the checkpoint file. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="checkpoint_8c_a656858362954a335040262a54a0235ce_cgraph.png" border="0" usemap="#checkpoint_8c_a656858362954a335040262a54a0235ce_cgraph" alt=""/></div>
<map name="checkpoint_8c_a656858362954a335040262a54a0235ce_cgraph" id="checkpoint_8c_a656858362954a335040262a54a0235ce_cgraph">
<area shape="rect" id="node2" href="api_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="906,664,982,691"/>
<area shape="rect" id="node3" href="interface_8h.html#a950803008f7cef4892fbba9b2069928e" title="It receives the return code of a function and prints a message. " alt="" coords="443,765,510,792"/>
<area shape="rect" id="node4" href="checkpoint_8c.html#aa3b43aa19aa8f910f58227e7e41f5b65" title="Writes ckpt to PFS using POSIX. " alt="" coords="187,867,301,893"/>
<area shape="rect" id="node5" href="checkpoint_8c.html#ae8fc5a03c1867580fff65eed75e2d0d3" title="Writes ckpt to PFS using MPI I/O. " alt="" coords="193,917,295,944"/>
<area shape="rect" id="node6" href="checkpoint_8c.html#a7f20285e1ca49847b7764bdd8ec21a9a" title="Writes ckpt to PFS using SIONlib. " alt="" coords="185,968,303,995"/>
<area shape="rect" id="node7" href="ftiff_8c.html#afd5af460353badf64a343e5c0bebfa2f" title="Writes ckpt to local/PFS using FTIFF. " alt="" coords="178,601,310,628"/>
<area shape="rect" id="node25" href="interface_8h.html#ae6dfc4ce50cbd1081f52962e5b822ac3" title="It writes the metadata to recover the data after a failure. " alt="" coords="173,1019,315,1045"/>
<area shape="rect" id="node28" href="interface_8h.html#aebd3655df169cee88d8a5324f41cbe3c" title="Creates or updates checkpoint meta data. " alt="" coords="161,348,327,375"/>
<area shape="rect" id="node8" href="ftiff_8c.html#aaa2a7a8ba27a5e34053738a5a446b78f" title="updates datablock structure for FTI File Format. " alt="" coords="375,233,579,260"/>
<area shape="rect" id="node18" href="ftiff_8c.html#aff223b6bdbc46ad0519713469fd98017" title="serializes FTI&#45;FF file data block meta data " alt="" coords="643,411,805,437"/>
<area shape="rect" id="node19" href="ftiff_8c.html#a993be527d944b0cc1a7004fe7b5ba3cc" title="serializes FTI&#45;FF data chunk meta data " alt="" coords="387,544,567,571"/>
<area shape="rect" id="node20" href="ftiff_8c.html#a5d82e0f5eb91ad610d33e82d25426270" title="Assign meta data to runtime and file meta data types. " alt="" coords="397,601,556,628"/>
<area shape="rect" id="node22" href="ftiff_8c.html#a9f60f1e2979942619c3c346f4fa56ad9" title="serializes FTI&#45;FF file meta data " alt="" coords="394,652,559,679"/>
<area shape="rect" id="node23" href="diff-checkpoint_8c.html#aff2aa9c15bc35742248d650d8857395e" title="Returns pointer and size of buffer to write during checkpoint. " alt="" coords="395,468,558,495"/>
<area shape="rect" id="node9" href="diff-checkpoint_8c.html#ab425fd97dfb5db7e718bffabe356e337" title="Initializes a new hash meta data structure for data chunk. " alt="" coords="643,107,805,133"/>
<area shape="rect" id="node13" href="ftiff_8c.html#a103f831a8b05db0f49424cd6f555aa22" title="Computes hash of the FTI&#45;FF data chunk meta data structure. " alt="" coords="649,259,799,285"/>
<area shape="rect" id="node14" href="ftiff_8c.html#a75932be0781ccb83b2b89d0911a89998" title="Computes hash of the FTI&#45;FF file data block meta data structure. " alt="" coords="659,309,789,336"/>
<area shape="rect" id="node15" href="diff-checkpoint_8c.html#ac5f11bac86b0c6815d8bc45177b4c7ce" title="Finalizes dCP. " alt="" coords="665,360,783,387"/>
<area shape="rect" id="node16" href="diff-checkpoint_8c.html#a81e4927ccfdcbcf802e3091dc5dd1b21" title="Expands an existing hash meta data structure for data chunk. " alt="" coords="630,56,818,83"/>
<area shape="rect" id="node17" href="diff-checkpoint_8c.html#a1b9d949c3d69cecc79ee913c656371e2" title="Shrinks an existing hash meta data structure for data chunk. " alt="" coords="627,5,821,32"/>
<area shape="rect" id="node10" href="diff-checkpoint_8c.html#a7951d40c32fbcd6bb42c9745a4c5b609" title="Computes number of hashblocks for chunk size. " alt="" coords="869,5,1019,32"/>
<area shape="rect" id="node11" href="diff-checkpoint_8c.html#aa144736a4ea5fca66085f094f10d90d1" title="Returns the dCP mode. " alt="" coords="881,56,1007,83"/>
<area shape="rect" id="node12" href="diff-checkpoint_8c.html#a400abbe3cb80eb6070e63902d99d0d55" title="Returns the dCP block size. " alt="" coords="869,107,1019,133"/>
<area shape="rect" id="node21" href="ftiff_8c.html#a5e2c943fe1bd7e487a0911b5203ad9d7" title="Computes hash of the FTI&#45;FF file meta data structure. " alt="" coords="640,563,808,589"/>
<area shape="rect" id="node24" href="diff-checkpoint_8c.html#a4b27ecb6509e9d694f3b053461a64bdf" title="Checks if data block is dirty, clean or invalid. " alt="" coords="670,461,778,488"/>
<area shape="rect" id="node26" href="interface_8h.html#ad7413da2f3a603eb2da996ea201a7665" title="It calculates checksum of the checkpoint file. " alt="" coords="421,1120,533,1147"/>
<area shape="rect" id="node27" href="meta_8c.html#a2db9ff4ed2567a3de584074b3a2a8ee0" title="It writes the metadata to recover the data after a failure. " alt="" coords="409,1069,544,1096"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae8fc5a03c1867580fff65eed75e2d0d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_WriteMPI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__dataset.html">FTIT_dataset</a> *&#160;</td>
          <td class="paramname"><em>FTI_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes ckpt to PFS using MPI I/O. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata. </td></tr>
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">FTI_Data</td><td>Dataset metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>In here it is taken into account, that in MPIIO the count parameter in both, MPI_Type_contiguous and MPI_File_write_at, are integer types. The ckpt data is split into chunks of maximal (MAX_INT-1)/2 elements to form contiguous data types. It was experienced, that if the size is greater then that, it may lead to problems. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="checkpoint_8c_ae8fc5a03c1867580fff65eed75e2d0d3_cgraph.png" border="0" usemap="#checkpoint_8c_ae8fc5a03c1867580fff65eed75e2d0d3_cgraph" alt=""/></div>
<map name="checkpoint_8c_ae8fc5a03c1867580fff65eed75e2d0d3_cgraph" id="checkpoint_8c_ae8fc5a03c1867580fff65eed75e2d0d3_cgraph">
<area shape="rect" id="node2" href="api_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="156,5,232,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa3b43aa19aa8f910f58227e7e41f5b65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_WritePosix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *&#160;</td>
          <td class="paramname"><em>FTI_Ckpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__dataset.html">FTIT_dataset</a> *&#160;</td>
          <td class="paramname"><em>FTI_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes ckpt to PFS using POSIX. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata. </td></tr>
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">FTI_Ckpt</td><td>Checkpoint metadata. </td></tr>
    <tr><td class="paramname">FTI_Data</td><td>Dataset metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="checkpoint_8c_aa3b43aa19aa8f910f58227e7e41f5b65_cgraph.png" border="0" usemap="#checkpoint_8c_aa3b43aa19aa8f910f58227e7e41f5b65_cgraph" alt=""/></div>
<map name="checkpoint_8c_aa3b43aa19aa8f910f58227e7e41f5b65_cgraph" id="checkpoint_8c_aa3b43aa19aa8f910f58227e7e41f5b65_cgraph">
<area shape="rect" id="node2" href="api_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="167,5,243,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7f20285e1ca49847b7764bdd8ec21a9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_WriteSionlib </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__dataset.html">FTIT_dataset</a> *&#160;</td>
          <td class="paramname"><em>FTI_Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes ckpt to PFS using SIONlib. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata. </td></tr>
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">FTI_Data</td><td>Dataset metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="checkpoint_8c_a7f20285e1ca49847b7764bdd8ec21a9a_cgraph.png" border="0" usemap="#checkpoint_8c_a7f20285e1ca49847b7764bdd8ec21a9a_cgraph" alt=""/></div>
<map name="checkpoint_8c_a7f20285e1ca49847b7764bdd8ec21a9a_cgraph" id="checkpoint_8c_a7f20285e1ca49847b7764bdd8ec21a9a_cgraph">
<area shape="rect" id="node2" href="api_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="172,5,248,32"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="checkpoint_8c.html">checkpoint.c</a></li>
    <li class="footer">Generated on Mon Sep 17 2018 12:20:46 for Fault Tolerance Interface by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
