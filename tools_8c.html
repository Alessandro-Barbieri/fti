<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Fault Tolerance Interface: src/tools.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Fault Tolerance Interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tools.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Utility functions for the FTI library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="fti_8h_source.html">fti.h</a>&quot;</code><br/>
<code>#include &lt;dirent.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tools.c:</div>
<div class="dyncontent">
<div class="center"><img src="tools_8c__incl.png" border="0" usemap="#src_2tools_8c" alt=""/></div>
<map name="src_2tools_8c" id="src_2tools_8c">
<area shape="rect" id="node2" href="fti_8h.html" title="Header file for the FTI library. " alt="" coords="402,80,445,107"/><area shape="rect" id="node11" href="iniparser_8h.html" title="Parser for ini files. " alt="" coords="237,155,319,181"/><area shape="rect" id="node13" href="galois_8h.html" title="galois.h" alt="" coords="625,229,692,256"/><area shape="rect" id="node14" href="jerasure_8h.html" title="jerasure.h" alt="" coords="643,155,721,181"/><area shape="rect" id="node12" href="dictionary_8h.html" title="Implements a dictionary for string variables. " alt="" coords="262,229,351,256"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8cbc6d4dbac880f834ca50d04191c194"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a8cbc6d4dbac880f834ca50d04191c194">FTI_Clean</a> (int level, int group, int rank)</td></tr>
<tr class="memdesc:a8cbc6d4dbac880f834ca50d04191c194"><td class="mdescLeft">&#160;</td><td class="mdescRight">It erases the previous checkpoints and their metadata.  <a href="#a8cbc6d4dbac880f834ca50d04191c194">More...</a><br/></td></tr>
<tr class="separator:a8cbc6d4dbac880f834ca50d04191c194"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a691a9e560e92286bb5bc1b5cf2f7b199"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199">FTI_Print</a> (char *msg, int priority)</td></tr>
<tr class="memdesc:a691a9e560e92286bb5bc1b5cf2f7b199"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints FTI messages.  <a href="#a691a9e560e92286bb5bc1b5cf2f7b199">More...</a><br/></td></tr>
<tr class="separator:a691a9e560e92286bb5bc1b5cf2f7b199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950803008f7cef4892fbba9b2069928e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a950803008f7cef4892fbba9b2069928e">FTI_Try</a> (int result, char *message)</td></tr>
<tr class="memdesc:a950803008f7cef4892fbba9b2069928e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive the return code of a function and print a message.  <a href="#a950803008f7cef4892fbba9b2069928e">More...</a><br/></td></tr>
<tr class="separator:a950803008f7cef4892fbba9b2069928e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68593475890515c03b4f8c339b8ad27f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a68593475890515c03b4f8c339b8ad27f">FTI_InitBasicTypes</a> (<a class="el" href="structFTIT__dataset.html">FTIT_dataset</a> FTI_Data[<a class="el" href="fti_8h.html#a4da53a2ca9ef19b414ca7e2522c4864a">FTI_BUFS</a>])</td></tr>
<tr class="memdesc:a68593475890515c03b4f8c339b8ad27f"><td class="mdescLeft">&#160;</td><td class="mdescRight">It creates the basic datatypes and the dataset array.  <a href="#a68593475890515c03b4f8c339b8ad27f">More...</a><br/></td></tr>
<tr class="separator:a68593475890515c03b4f8c339b8ad27f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4bfe54a9748e8915a5a43c17b334452"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#ac4bfe54a9748e8915a5a43c17b334452">FTI_RmDir</a> (char path[<a class="el" href="fti_8h.html#a4da53a2ca9ef19b414ca7e2522c4864a">FTI_BUFS</a>], int flag)</td></tr>
<tr class="memdesc:ac4bfe54a9748e8915a5a43c17b334452"><td class="mdescLeft">&#160;</td><td class="mdescRight">It erases a directory and all its files.  <a href="#ac4bfe54a9748e8915a5a43c17b334452">More...</a><br/></td></tr>
<tr class="separator:ac4bfe54a9748e8915a5a43c17b334452"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utility functions for the FTI library. </p>
<dl class="section author"><dt>Author</dt><dd>Leonardo A. Bautista Gomez (<a href="#" onclick="location.href='mai'+'lto:'+'leo'+'ba'+'go@'+'gm'+'ail'+'.c'+'om'; return false;">leoba<span style="display: none;">.nosp@m.</span>go@g<span style="display: none;">.nosp@m.</span>mail.<span style="display: none;">.nosp@m.</span>com</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>December, 2013 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8cbc6d4dbac880f834ca50d04191c194"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_Clean </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It erases the previous checkpoints and their metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Level of cleaning. </td></tr>
    <tr><td class="paramname">group</td><td>Group ID of the cleaning target process. </td></tr>
    <tr><td class="paramname">rank</td><td>Rank of the cleaning target process. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function erases previous checkpoint depending on the level of the current checkpoint. Level 5 means complete clean up. Level 6 means clean up local nodes but keep last checkpoint data and metadata in the PFS. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tools_8c_a8cbc6d4dbac880f834ca50d04191c194_cgraph.png" border="0" usemap="#tools_8c_a8cbc6d4dbac880f834ca50d04191c194_cgraph" alt=""/></div>
<map name="tools_8c_a8cbc6d4dbac880f834ca50d04191c194_cgraph" id="tools_8c_a8cbc6d4dbac880f834ca50d04191c194_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#ac4bfe54a9748e8915a5a43c17b334452" title="It erases a directory and all its files. " alt="" coords="137,5,223,32"/><area shape="rect" id="node3" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="273,5,349,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a68593475890515c03b4f8c339b8ad27f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_InitBasicTypes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__dataset.html">FTIT_dataset</a>&#160;</td>
          <td class="paramname"><em>FTI_Data</em>[FTI_BUFS]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It creates the basic datatypes and the dataset array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Data</td><td>Dataset array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function creates the basic data types using FTIT_Type. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tools_8c_a68593475890515c03b4f8c339b8ad27f_cgraph.png" border="0" usemap="#tools_8c_a68593475890515c03b4f8c339b8ad27f_cgraph" alt=""/></div>
<map name="tools_8c_a68593475890515c03b4f8c339b8ad27f_cgraph" id="tools_8c_a68593475890515c03b4f8c339b8ad27f_cgraph">
<area shape="rect" id="node2" href="fti_8h.html#a725ffe84dd16beb533e7b4b74fa4e9c4" title="It initializes a data type. " alt="" coords="189,5,285,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a691a9e560e92286bb5bc1b5cf2f7b199"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FTI_Print </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints FTI messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message to print. </td></tr>
    <tr><td class="paramname">priority</td><td>Priority of the message to be printed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function prints messages depending on their priority and the verbosity level set by the user. DEBUG messages are printed by all processes with their rank. INFO messages are printed by one process. ERROR messages are printed with errno. </p>

</div>
</div>
<a class="anchor" id="ac4bfe54a9748e8915a5a43c17b334452"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_RmDir </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>path</em>[FTI_BUFS], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It erases a directory and all its files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to the directory we want to erase. </td></tr>
    <tr><td class="paramname">flag</td><td>set to 1 to activate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function erases a directory and all its files. It focusses on the checkpoint directories created by FTI so it does NOT handle recursive erasing if the given directory includes other directories. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tools_8c_ac4bfe54a9748e8915a5a43c17b334452_cgraph.png" border="0" usemap="#tools_8c_ac4bfe54a9748e8915a5a43c17b334452_cgraph" alt=""/></div>
<map name="tools_8c_ac4bfe54a9748e8915a5a43c17b334452_cgraph" id="tools_8c_ac4bfe54a9748e8915a5a43c17b334452_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="142,5,218,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a950803008f7cef4892fbba9b2069928e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_Try </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive the return code of a function and print a message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>Result to check. </td></tr>
    <tr><td class="paramname">message</td><td>Message to print. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer The same result as passed in parameter.</dd></dl>
<p>This function checks the result from a function and then decides to print the message either as a debug message or as a warning. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tools_8c_a950803008f7cef4892fbba9b2069928e_cgraph.png" border="0" usemap="#tools_8c_a950803008f7cef4892fbba9b2069928e_cgraph" alt=""/></div>
<map name="tools_8c_a950803008f7cef4892fbba9b2069928e_cgraph" id="tools_8c_a950803008f7cef4892fbba9b2069928e_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="123,5,199,32"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 13 2014 23:12:14 for Fault Tolerance Interface by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
