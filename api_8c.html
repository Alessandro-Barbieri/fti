<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Fault Tolerance Interface: src/api.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Fault Tolerance Interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">api.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>API functions for the FTI library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="fti_8h_source.html">fti.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for api.c:</div>
<div class="dyncontent">
<div class="center"><img src="api_8c__incl.png" border="0" usemap="#src_2api_8c" alt=""/></div>
<map name="src_2api_8c" id="src_2api_8c">
<area shape="rect" id="node2" href="fti_8h.html" title="Header file for the FTI library. " alt="" coords="402,80,445,107"/><area shape="rect" id="node11" href="iniparser_8h.html" title="Parser for ini files. " alt="" coords="237,155,319,181"/><area shape="rect" id="node13" href="galois_8h.html" title="galois.h" alt="" coords="625,229,692,256"/><area shape="rect" id="node14" href="jerasure_8h.html" title="jerasure.h" alt="" coords="643,155,721,181"/><area shape="rect" id="node12" href="dictionary_8h.html" title="Implements a dictionary for string variables. " alt="" coords="262,229,351,256"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a099c623f5f4d26109d66d3eebb4553c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#a099c623f5f4d26109d66d3eebb4553c0">FTI_Abort</a> ()</td></tr>
<tr class="memdesc:a099c623f5f4d26109d66d3eebb4553c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">It aborts the application.  <a href="#a099c623f5f4d26109d66d3eebb4553c0">More...</a><br/></td></tr>
<tr class="separator:a099c623f5f4d26109d66d3eebb4553c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ae2c176bc01a0a8360fcbff1e3678e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#a57ae2c176bc01a0a8360fcbff1e3678e">FTI_Init</a> (char *configFile, MPI_Comm globalComm)</td></tr>
<tr class="memdesc:a57ae2c176bc01a0a8360fcbff1e3678e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes FTI.  <a href="#a57ae2c176bc01a0a8360fcbff1e3678e">More...</a><br/></td></tr>
<tr class="separator:a57ae2c176bc01a0a8360fcbff1e3678e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5222b52e6f1d6b737f4ec1b173f362f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#a5222b52e6f1d6b737f4ec1b173f362f5">FTI_Status</a> ()</td></tr>
<tr class="memdesc:a5222b52e6f1d6b737f4ec1b173f362f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">It returns the current status of the recovery flag.  <a href="#a5222b52e6f1d6b737f4ec1b173f362f5">More...</a><br/></td></tr>
<tr class="separator:a5222b52e6f1d6b737f4ec1b173f362f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a725ffe84dd16beb533e7b4b74fa4e9c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#a725ffe84dd16beb533e7b4b74fa4e9c4">FTI_InitType</a> (<a class="el" href="structFTIT__type.html">FTIT_type</a> *type, int size)</td></tr>
<tr class="memdesc:a725ffe84dd16beb533e7b4b74fa4e9c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">It initializes a data type.  <a href="#a725ffe84dd16beb533e7b4b74fa4e9c4">More...</a><br/></td></tr>
<tr class="separator:a725ffe84dd16beb533e7b4b74fa4e9c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a913b8cd6e29a152eceaeaec35e21e677"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#a913b8cd6e29a152eceaeaec35e21e677">FTI_Protect</a> (int id, void *ptr, long count, <a class="el" href="structFTIT__type.html">FTIT_type</a> type)</td></tr>
<tr class="memdesc:a913b8cd6e29a152eceaeaec35e21e677"><td class="mdescLeft">&#160;</td><td class="mdescRight">It sets/resets the pointer and type to a protected variable.  <a href="#a913b8cd6e29a152eceaeaec35e21e677">More...</a><br/></td></tr>
<tr class="separator:a913b8cd6e29a152eceaeaec35e21e677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791fd93b18d6c214cef5d6b934dcbd55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#a791fd93b18d6c214cef5d6b934dcbd55">FTI_FloatBitFlip</a> (float *target, int bit)</td></tr>
<tr class="memdesc:a791fd93b18d6c214cef5d6b934dcbd55"><td class="mdescLeft">&#160;</td><td class="mdescRight">It corrupts a bit of the given float.  <a href="#a791fd93b18d6c214cef5d6b934dcbd55">More...</a><br/></td></tr>
<tr class="separator:a791fd93b18d6c214cef5d6b934dcbd55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd287cd3e5911bb2d8266c0d8219c861"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#acd287cd3e5911bb2d8266c0d8219c861">FTI_DoubleBitFlip</a> (double *target, int bit)</td></tr>
<tr class="memdesc:acd287cd3e5911bb2d8266c0d8219c861"><td class="mdescLeft">&#160;</td><td class="mdescRight">It corrupts a bit of the given float.  <a href="#acd287cd3e5911bb2d8266c0d8219c861">More...</a><br/></td></tr>
<tr class="separator:acd287cd3e5911bb2d8266c0d8219c861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6acb36d29481cd0da05ee66f944c1e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#aa6acb36d29481cd0da05ee66f944c1e8">FTI_BitFlip</a> (int datasetID)</td></tr>
<tr class="memdesc:aa6acb36d29481cd0da05ee66f944c1e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit-flip injection following the injection instructions.  <a href="#aa6acb36d29481cd0da05ee66f944c1e8">More...</a><br/></td></tr>
<tr class="separator:aa6acb36d29481cd0da05ee66f944c1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ccf559fcbee51bd335ba2c6671eadf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#a85ccf559fcbee51bd335ba2c6671eadf">FTI_Checkpoint</a> (int id, int level)</td></tr>
<tr class="memdesc:a85ccf559fcbee51bd335ba2c6671eadf"><td class="mdescLeft">&#160;</td><td class="mdescRight">It takes the checkpoint and triggers the post-ckpt. work.  <a href="#a85ccf559fcbee51bd335ba2c6671eadf">More...</a><br/></td></tr>
<tr class="separator:a85ccf559fcbee51bd335ba2c6671eadf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab761c55656aab212daf8e6f447ec2214"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#ab761c55656aab212daf8e6f447ec2214">FTI_Recover</a> ()</td></tr>
<tr class="memdesc:ab761c55656aab212daf8e6f447ec2214"><td class="mdescLeft">&#160;</td><td class="mdescRight">It loads the checkpoint data.  <a href="#ab761c55656aab212daf8e6f447ec2214">More...</a><br/></td></tr>
<tr class="separator:ab761c55656aab212daf8e6f447ec2214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cbf6d6f6b4181e314eef599f85d6c5b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#a6cbf6d6f6b4181e314eef599f85d6c5b">FTI_Snapshot</a> ()</td></tr>
<tr class="memdesc:a6cbf6d6f6b4181e314eef599f85d6c5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes an FTI snapshot or recover the data if it is a restart.  <a href="#a6cbf6d6f6b4181e314eef599f85d6c5b">More...</a><br/></td></tr>
<tr class="separator:a6cbf6d6f6b4181e314eef599f85d6c5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa58102aa8540ed35f2efba23cf2dc19b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="api_8c.html#aa58102aa8540ed35f2efba23cf2dc19b">FTI_Finalize</a> ()</td></tr>
<tr class="memdesc:aa58102aa8540ed35f2efba23cf2dc19b"><td class="mdescLeft">&#160;</td><td class="mdescRight">It closes FTI properly on the application processes.  <a href="#aa58102aa8540ed35f2efba23cf2dc19b">More...</a><br/></td></tr>
<tr class="separator:aa58102aa8540ed35f2efba23cf2dc19b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>API functions for the FTI library. </p>
<dl class="section author"><dt>Author</dt><dd>Leonardo A. Bautista Gomez (<a href="#" onclick="location.href='mai'+'lto:'+'leo'+'ba'+'go@'+'gm'+'ail'+'.c'+'om'; return false;">leoba<span style="display: none;">.nosp@m.</span>go@g<span style="display: none;">.nosp@m.</span>mail.<span style="display: none;">.nosp@m.</span>com</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>December, 2013 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a099c623f5f4d26109d66d3eebb4553c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FTI_Abort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It aborts the application. </p>
<p>This function aborts the application after cleaning the file system. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="api_8c_a099c623f5f4d26109d66d3eebb4553c0_cgraph.png" border="0" usemap="#api_8c_a099c623f5f4d26109d66d3eebb4553c0_cgraph" alt=""/></div>
<map name="api_8c_a099c623f5f4d26109d66d3eebb4553c0_cgraph" id="api_8c_a099c623f5f4d26109d66d3eebb4553c0_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a8cbc6d4dbac880f834ca50d04191c194" title="It erases the previous checkpoints and their metadata. " alt="" coords="133,5,216,32"/><area shape="rect" id="node3" href="tools_8c.html#ac4bfe54a9748e8915a5a43c17b334452" title="It erases a directory and all its files. " alt="" coords="265,5,351,32"/><area shape="rect" id="node4" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="401,5,477,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa6acb36d29481cd0da05ee66f944c1e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_BitFlip </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>datasetID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bit-flip injection following the injection instructions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">datasetID</td><td>ID of the dataset where to inject. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successfull.</dd></dl>
<p>This function injects the given number of bit-flips, at the given frequency and in the given location (rank, dataset, bit position). </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="api_8c_aa6acb36d29481cd0da05ee66f944c1e8_cgraph.png" border="0" usemap="#api_8c_aa6acb36d29481cd0da05ee66f944c1e8_cgraph" alt=""/></div>
<map name="api_8c_aa6acb36d29481cd0da05ee66f944c1e8_cgraph" id="api_8c_aa6acb36d29481cd0da05ee66f944c1e8_cgraph">
<area shape="rect" id="node2" href="api_8c.html#acd287cd3e5911bb2d8266c0d8219c861" title="It corrupts a bit of the given float. " alt="" coords="142,5,269,32"/><area shape="rect" id="node3" href="api_8c.html#a791fd93b18d6c214cef5d6b934dcbd55" title="It corrupts a bit of the given float. " alt="" coords="317,31,432,57"/><area shape="rect" id="node4" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="167,107,243,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a85ccf559fcbee51bd335ba2c6671eadf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_Checkpoint </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It takes the checkpoint and triggers the post-ckpt. work. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Checkpoint ID. </td></tr>
    <tr><td class="paramname">level</td><td>Checkpoint level. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successfull.</dd></dl>
<p>This function starts by blocking on a receive if the previous ckpt. was offline. Then, it updates the ckpt. information. It writes down the ckpt. data, creates the metadata and the post-processing work. This function is complementary with the FTI_Listen function in terms of communications. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="api_8c_a85ccf559fcbee51bd335ba2c6671eadf_cgraph.png" border="0" usemap="#api_8c_a85ccf559fcbee51bd335ba2c6671eadf_cgraph" alt=""/></div>
<map name="api_8c_a85ccf559fcbee51bd335ba2c6671eadf_cgraph" id="api_8c_a85ccf559fcbee51bd335ba2c6671eadf_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a950803008f7cef4892fbba9b2069928e" title="Receive the return code of a function and print a message. " alt="" coords="737,621,805,648"/><area shape="rect" id="node3" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="937,469,1013,496"/><area shape="rect" id="node4" href="checkpoint_8c.html#ab6916fde75e5f974a3e179d2ba507f99" title="It writes the checkpoint data in the target file. " alt="" coords="326,660,434,687"/><area shape="rect" id="node12" href="checkpoint_8c.html#a5129de15629eb7b6c51f6561f4cc88b0" title="Decides wich action start depending on the ckpt. level. " alt="" coords="168,419,272,445"/><area shape="rect" id="node5" href="meta_8c.html#afa3bd0c0d0bbaaa91091eac4aa5086e7" title="It writes the metadata to recover the data after a failure. " alt="" coords="489,723,631,749"/><area shape="rect" id="node6" href="meta_8c.html#afe1bb8f30f411e9c18c73c809e30b95b" title="It writes the metadata to recover the data after a failure. " alt="" coords="703,773,838,800"/><area shape="rect" id="node7" href="iniparser_8h.html#ab0be559bfb769224b3f1b75e26242a67" title="Parse an ini file and return an allocated dictionary object. " alt="" coords="923,621,1026,648"/><area shape="rect" id="node8" href="iniparser_8h.html#ad526324b54dbfe04d636360883f4f874" title="Set an entry in a dictionary. " alt="" coords="927,723,1023,749"/><area shape="rect" id="node9" href="iniparser_8h.html#a2ecced40f104f8d629748bb12c1f6b6b" title="Delete an entry in a dictionary. " alt="" coords="919,773,1030,800"/><area shape="rect" id="node10" href="iniparser_8h.html#a90549ee518523921886b74454ff872eb" title="Free all memory associated to an ini dictionary. " alt="" coords="914,672,1035,699"/><area shape="rect" id="node11" href="iniparser_8h.html#aece0e32de371c9e9592d8333f816dfac" title="Save a dictionary to a loadable ini file. " alt="" coords="909,824,1040,851"/><area shape="rect" id="node13" href="checkpoint_8c.html#a4df9eb5e3f10cc6d0f1cba99963905f2" title="Decides wich action start depending on the ckpt. level. " alt="" coords="321,368,439,395"/><area shape="rect" id="node16" href="postckpt_8c.html#a2e93ca78c1ede39396bf24611d710230" title="It flushes the local ckpt. files in to the PFS. " alt="" coords="519,419,601,445"/><area shape="rect" id="node20" href="postckpt_8c.html#a02243a83a12aeccae0898a8923b5c209" title="It performs RS encoding with the ckpt. files in to the group. " alt="" coords="515,216,605,243"/><area shape="rect" id="node24" href="postckpt_8c.html#a8205b15e7b74f2f118ec2bef4ffa6878" title="It copies ckpt. files in to the partner node. " alt="" coords="520,520,600,547"/><area shape="rect" id="node25" href="postckpt_8c.html#a0ea7bcdf7b7389f68ade3cd2ab2ef9de" title="It returns FTI_SCES. " alt="" coords="520,469,600,496"/><area shape="rect" id="node14" href="tools_8c.html#a8cbc6d4dbac880f834ca50d04191c194" title="It erases the previous checkpoints and their metadata. " alt="" coords="519,368,601,395"/><area shape="rect" id="node15" href="tools_8c.html#ac4bfe54a9748e8915a5a43c17b334452" title="It erases a directory and all its files. " alt="" coords="727,368,814,395"/><area shape="rect" id="node17" href="meta_8c.html#aded40228f27b54245ba7e64123fbac6f" title="It gets the metadata to recover the data after a failure. " alt="" coords="721,571,820,597"/><area shape="rect" id="node18" href="iniparser_8h.html#a7894f8480e1f254d4a1b4a31bdc51b46" title="Get the string associated to a key. " alt="" coords="911,520,1039,547"/><area shape="rect" id="node19" href="iniparser_8h.html#a694eb1110f4200db8648820a0bb405fa" title="Get the string associated to a key, convert to an int. " alt="" coords="919,571,1030,597"/><area shape="rect" id="node21" href="galois_8h.html#a9ccbbf5999f106f9b37e21f821405b87" title="galois_single_divide" alt="" coords="701,64,840,91"/><area shape="rect" id="node22" href="galois_8h.html#a0227afc578ca49a616fca5b345ec9eca" title="galois_region_xor" alt="" coords="709,115,832,141"/><area shape="rect" id="node23" href="galois_8h.html#a6d319cb970af33cd6aa7820630bc4b3d" title="galois_w16_region_multiply" alt="" coords="680,165,861,192"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acd287cd3e5911bb2d8266c0d8219c861"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_DoubleBitFlip </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It corrupts a bit of the given float. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>Pointer to the float to corrupt. </td></tr>
    <tr><td class="paramname">bit</td><td>Position of the bit to corrupt. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successfull.</dd></dl>
<p>This function filps the bit of the target float. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="api_8c_acd287cd3e5911bb2d8266c0d8219c861_cgraph.png" border="0" usemap="#api_8c_acd287cd3e5911bb2d8266c0d8219c861_cgraph" alt=""/></div>
<map name="api_8c_acd287cd3e5911bb2d8266c0d8219c861_cgraph" id="api_8c_acd287cd3e5911bb2d8266c0d8219c861_cgraph">
<area shape="rect" id="node2" href="api_8c.html#a791fd93b18d6c214cef5d6b934dcbd55" title="It corrupts a bit of the given float. " alt="" coords="181,5,296,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa58102aa8540ed35f2efba23cf2dc19b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_Finalize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It closes FTI properly on the application processes. </p>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function notify the FTI processes that the execution is over, frees some data structures and it closes. If this function is not called on the application processes the FTI processes will never finish (deadlock). </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="api_8c_aa58102aa8540ed35f2efba23cf2dc19b_cgraph.png" border="0" usemap="#api_8c_aa58102aa8540ed35f2efba23cf2dc19b_cgraph" alt=""/></div>
<map name="api_8c_aa58102aa8540ed35f2efba23cf2dc19b_cgraph" id="api_8c_aa58102aa8540ed35f2efba23cf2dc19b_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a950803008f7cef4892fbba9b2069928e" title="Receive the return code of a function and print a message. " alt="" coords="306,130,374,156"/><area shape="rect" id="node3" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="475,104,551,131"/><area shape="rect" id="node4" href="postckpt_8c.html#a2e93ca78c1ede39396bf24611d710230" title="It flushes the local ckpt. files in to the PFS. " alt="" coords="150,180,231,207"/><area shape="rect" id="node10" href="tools_8c.html#ac4bfe54a9748e8915a5a43c17b334452" title="It erases a directory and all its files. " alt="" coords="297,28,383,55"/><area shape="rect" id="node11" href="conf_8c.html#aed78cc2bc81b5b1ec88d4b7aec3a115f" title="Set the exec. ID and failure parameters in the conf. file. " alt="" coords="281,307,399,334"/><area shape="rect" id="node14" href="tools_8c.html#a8cbc6d4dbac880f834ca50d04191c194" title="It erases the previous checkpoints and their metadata. " alt="" coords="149,28,232,55"/><area shape="rect" id="node5" href="meta_8c.html#aded40228f27b54245ba7e64123fbac6f" title="It gets the metadata to recover the data after a failure. " alt="" coords="291,231,389,258"/><area shape="rect" id="node6" href="iniparser_8h.html#ab0be559bfb769224b3f1b75e26242a67" title="Parse an ini file and return an allocated dictionary object. " alt="" coords="462,256,565,283"/><area shape="rect" id="node7" href="iniparser_8h.html#a7894f8480e1f254d4a1b4a31bdc51b46" title="Get the string associated to a key. " alt="" coords="449,155,577,182"/><area shape="rect" id="node8" href="iniparser_8h.html#a694eb1110f4200db8648820a0bb405fa" title="Get the string associated to a key, convert to an int. " alt="" coords="458,206,569,232"/><area shape="rect" id="node9" href="iniparser_8h.html#a90549ee518523921886b74454ff872eb" title="Free all memory associated to an ini dictionary. " alt="" coords="453,307,574,334"/><area shape="rect" id="node12" href="iniparser_8h.html#ad526324b54dbfe04d636360883f4f874" title="Set an entry in a dictionary. " alt="" coords="465,358,561,384"/><area shape="rect" id="node13" href="iniparser_8h.html#aece0e32de371c9e9592d8333f816dfac" title="Save a dictionary to a loadable ini file. " alt="" coords="448,408,579,435"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a791fd93b18d6c214cef5d6b934dcbd55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_FloatBitFlip </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It corrupts a bit of the given float. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>Pointer to the float to corrupt. </td></tr>
    <tr><td class="paramname">bit</td><td>Position of the bit to corrupt. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successfull.</dd></dl>
<p>This function filps the bit of the target float. </p>

</div>
</div>
<a class="anchor" id="a57ae2c176bc01a0a8360fcbff1e3678e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_Init </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>configFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>globalComm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes FTI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">configFile</td><td>FTI configuration file. </td></tr>
    <tr><td class="paramname">globalComm</td><td>Main MPI communicator of the application. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function initialize the FTI context and prepare the heads to wait for checkpoints. FTI processes should never get out of this function. In case of restart, checkpoint files should be recovered and in place at the end of this function. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="api_8c_a57ae2c176bc01a0a8360fcbff1e3678e_cgraph.png" border="0" usemap="#api_8c_a57ae2c176bc01a0a8360fcbff1e3678e_cgraph" alt=""/></div>
<map name="api_8c_a57ae2c176bc01a0a8360fcbff1e3678e_cgraph" id="api_8c_a57ae2c176bc01a0a8360fcbff1e3678e_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a950803008f7cef4892fbba9b2069928e" title="Receive the return code of a function and print a message. " alt="" coords="891,563,959,589"/><area shape="rect" id="node3" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="1091,867,1167,893"/><area shape="rect" id="node4" href="conf_8c.html#ac9cbf22595a910092c780c74b42bf6de" title="It reads and tests the configuration given. " alt="" coords="665,1120,770,1147"/><area shape="rect" id="node13" href="api_8c.html#a099c623f5f4d26109d66d3eebb4553c0" title="It aborts the application. " alt="" coords="148,968,228,995"/><area shape="rect" id="node16" href="topo_8c.html#ac975801f821e8e4a93644b6ef7f3f3ab" title="Builds and saves the topology of the current execution. " alt="" coords="666,259,769,285"/><area shape="rect" id="node24" href="tools_8c.html#a68593475890515c03b4f8c339b8ad27f" title="It creates the basic datatypes and the dataset array. " alt="" coords="120,816,256,843"/><area shape="rect" id="node26" href="conf_8c.html#aed78cc2bc81b5b1ec88d4b7aec3a115f" title="Set the exec. ID and failure parameters in the conf. file. " alt="" coords="866,107,985,133"/><area shape="rect" id="node27" href="recover_8c.html#a9680b701401c4067be914e5598d43a30" title="Decides wich action take depending on the restart level. " alt="" coords="305,1399,431,1425"/><area shape="rect" id="node39" href="checkpoint_8c.html#addc34db6c4bec3be9b79b0a7fc2ba985" title="It listens for checkpoint notifications. " alt="" coords="146,664,230,691"/><area shape="rect" id="node48" href="api_8c.html#aa58102aa8540ed35f2efba23cf2dc19b" title="It closes FTI properly on the application processes. " alt="" coords="493,867,587,893"/><area shape="rect" id="node5" href="conf_8c.html#ad02bc6d7c535f882325f3175366325ff" title="It reads the configuration given in the configuration file. " alt="" coords="871,309,979,336"/><area shape="rect" id="node10" href="conf_8c.html#a3c119841d09c50c73e7a1bf91d719b63" title="It tests that the configuration given is correct. " alt="" coords="869,1171,982,1197"/><area shape="rect" id="node11" href="conf_8c.html#a5b994968040ca56843abed2df825eb4b" title="It tests that the directories given is correct. " alt="" coords="856,1221,995,1248"/><area shape="rect" id="node12" href="conf_8c.html#aa16ab6e6e67963dba32e03fe3a314bb1" title="It creates the directories required for current execution. " alt="" coords="869,1069,981,1096"/><area shape="rect" id="node6" href="iniparser_8h.html#ab0be559bfb769224b3f1b75e26242a67" title="Parse an ini file and return an allocated dictionary object. " alt="" coords="1078,208,1181,235"/><area shape="rect" id="node7" href="iniparser_8h.html#a7894f8480e1f254d4a1b4a31bdc51b46" title="Get the string associated to a key. " alt="" coords="1065,259,1193,285"/><area shape="rect" id="node8" href="iniparser_8h.html#a694eb1110f4200db8648820a0bb405fa" title="Get the string associated to a key, convert to an int. " alt="" coords="1074,309,1185,336"/><area shape="rect" id="node9" href="iniparser_8h.html#a90549ee518523921886b74454ff872eb" title="Free all memory associated to an ini dictionary. " alt="" coords="1069,157,1190,184"/><area shape="rect" id="node14" href="tools_8c.html#a8cbc6d4dbac880f834ca50d04191c194" title="It erases the previous checkpoints and their metadata. " alt="" coords="676,1019,759,1045"/><area shape="rect" id="node15" href="tools_8c.html#ac4bfe54a9748e8915a5a43c17b334452" title="It erases a directory and all its files. " alt="" coords="882,917,969,944"/><area shape="rect" id="node17" href="topo_8c.html#a3dcce60314d3b280f5a96e4adc7a1c75" title="Build the list of nodes in the current execution. " alt="" coords="860,360,991,387"/><area shape="rect" id="node18" href="topo_8c.html#a73e8aa1d21997ab5a24a1eef69718d34" title="Reorder the nodes following the previous topology. " alt="" coords="859,208,992,235"/><area shape="rect" id="node19" href="topo_8c.html#a9cf0b701b2c1a365644622c73c34d5f4" title="Writes the topology in a file for recovery. " alt="" coords="871,56,979,83"/><area shape="rect" id="node23" href="topo_8c.html#af3c95daf3b8e06279bb1783612121615" title="Build the list of nodes in the current execution. " alt="" coords="858,157,993,184"/><area shape="rect" id="node20" href="iniparser_8h.html#ad526324b54dbfe04d636360883f4f874" title="Set an entry in a dictionary. " alt="" coords="1081,56,1177,83"/><area shape="rect" id="node21" href="iniparser_8h.html#a2ecced40f104f8d629748bb12c1f6b6b" title="Delete an entry in a dictionary. " alt="" coords="1074,5,1185,32"/><area shape="rect" id="node22" href="iniparser_8h.html#aece0e32de371c9e9592d8333f816dfac" title="Save a dictionary to a loadable ini file. " alt="" coords="1064,107,1195,133"/><area shape="rect" id="node25" href="fti_8h.html#a725ffe84dd16beb533e7b4b74fa4e9c4" title="It initializes a data type. " alt="" coords="320,816,416,843"/><area shape="rect" id="node28" href="meta_8c.html#aded40228f27b54245ba7e64123fbac6f" title="It gets the metadata to recover the data after a failure. " alt="" coords="876,259,975,285"/><area shape="rect" id="node29" href="postreco_8c.html#a210a66fe20b09f175a3f38fc10642021" title="Recover L4 ckpt. files from the PFS. " alt="" coords="484,1525,596,1552"/><area shape="rect" id="node32" href="postreco_8c.html#a48ba4bf325b4480d61c21aa7233777b1" title="Recover L3 ckpt. files ordering the RS decoding algorithm. " alt="" coords="484,1424,596,1451"/><area shape="rect" id="node37" href="postreco_8c.html#ab8bb89b65605ebac18d1bd95b9edd500" title="Recover L2 ckpt. files using the partner copy. " alt="" coords="484,1373,596,1400"/><area shape="rect" id="node38" href="postreco_8c.html#a5f200679ee6c3d6b10b0cb7963e9f31f" title="Checks that all L1 ckpt. files are present. " alt="" coords="484,1475,596,1501"/><area shape="rect" id="node30" href="recover_8c.html#aea7e50170c704343bb574920ac96cdcd" title="Detects all the erasures for a particular level. " alt="" coords="648,1475,787,1501"/><area shape="rect" id="node31" href="recover_8c.html#a888fd5a379af7c7a6dd14f3c543d683b" title="Check if a file exist and that its size is &#39;correct&#39;. " alt="" coords="871,1576,979,1603"/><area shape="rect" id="node33" href="postreco_8c.html#a75f076e55f9c53256d7866882a36d534" title="Recover a set of ckpt. files using RS decoding. " alt="" coords="670,1424,765,1451"/><area shape="rect" id="node34" href="galois_8h.html#a9ccbbf5999f106f9b37e21f821405b87" title="galois_single_divide" alt="" coords="856,1323,995,1349"/><area shape="rect" id="node35" href="jerasure_8h.html#aa134c10efabbe8620ba8de7ebe37c0f5" title="jerasure_invert_matrix" alt="" coords="850,1475,1001,1501"/><area shape="rect" id="node36" href="jerasure_8h.html#ae64314475c098664deb5eb2b9f1d41aa" title="jerasure_matrix_dotprod" alt="" coords="845,1424,1006,1451"/><area shape="rect" id="node40" href="checkpoint_8c.html#a5129de15629eb7b6c51f6561f4cc88b0" title="Decides wich action start depending on the ckpt. level. " alt="" coords="316,715,420,741"/><area shape="rect" id="node41" href="checkpoint_8c.html#a4df9eb5e3f10cc6d0f1cba99963905f2" title="Decides wich action start depending on the ckpt. level. " alt="" coords="481,968,599,995"/><area shape="rect" id="node42" href="postckpt_8c.html#a2e93ca78c1ede39396bf24611d710230" title="It flushes the local ckpt. files in to the PFS. " alt="" coords="677,664,758,691"/><area shape="rect" id="node43" href="postckpt_8c.html#a02243a83a12aeccae0898a8923b5c209" title="It performs RS encoding with the ckpt. files in to the group. " alt="" coords="673,765,762,792"/><area shape="rect" id="node46" href="postckpt_8c.html#a8205b15e7b74f2f118ec2bef4ffa6878" title="It copies ckpt. files in to the partner node. " alt="" coords="677,461,757,488"/><area shape="rect" id="node47" href="postckpt_8c.html#a0ea7bcdf7b7389f68ade3cd2ab2ef9de" title="It returns FTI_SCES. " alt="" coords="677,512,757,539"/><area shape="rect" id="node44" href="galois_8h.html#a0227afc578ca49a616fca5b345ec9eca" title="galois_region_xor" alt="" coords="864,664,987,691"/><area shape="rect" id="node45" href="galois_8h.html#a6d319cb970af33cd6aa7820630bc4b3d" title="galois_w16_region_multiply" alt="" coords="835,715,1016,741"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a725ffe84dd16beb533e7b4b74fa4e9c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_InitType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__type.html">FTIT_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It initializes a data type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The data type to be intialized. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the data type to be intialized. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function initalizes a data type. the only information needed is the size of the data type, the rest is black box for FTI. </p>

</div>
</div>
<a class="anchor" id="a913b8cd6e29a152eceaeaec35e21e677"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_Protect </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__type.html">FTIT_type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It sets/resets the pointer and type to a protected variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>ID for searches and update. </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to the data structure. </td></tr>
    <tr><td class="paramname">count</td><td>Number of elements in the data structure. </td></tr>
    <tr><td class="paramname">type</td><td>Type of elements in the data structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function stores a pointer to a data structure, its size, its ID, its number of elements and the type of the elements. This list of structures is the data that will be stored during a checkpoint and loaded during a recovery. It resets the pointer to a data structure, its size, its number of elements and the type of the elements if the dataset was already previously registered. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="api_8c_a913b8cd6e29a152eceaeaec35e21e677_cgraph.png" border="0" usemap="#api_8c_a913b8cd6e29a152eceaeaec35e21e677_cgraph" alt=""/></div>
<map name="api_8c_a913b8cd6e29a152eceaeaec35e21e677_cgraph" id="api_8c_a913b8cd6e29a152eceaeaec35e21e677_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="411,5,487,32"/><area shape="rect" id="node3" href="tools_8c.html#a8cbc6d4dbac880f834ca50d04191c194" title="It erases the previous checkpoints and their metadata. " alt="" coords="144,31,227,57"/><area shape="rect" id="node4" href="tools_8c.html#ac4bfe54a9748e8915a5a43c17b334452" title="It erases a directory and all its files. " alt="" coords="275,31,362,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab761c55656aab212daf8e6f447ec2214"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_Recover </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It loads the checkpoint data. </p>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function loads the checkpoint data from the checkpoint file and it updates some basic checkpoint information. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="api_8c_ab761c55656aab212daf8e6f447ec2214_cgraph.png" border="0" usemap="#api_8c_ab761c55656aab212daf8e6f447ec2214_cgraph" alt=""/></div>
<map name="api_8c_ab761c55656aab212daf8e6f447ec2214_cgraph" id="api_8c_ab761c55656aab212daf8e6f447ec2214_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="153,5,229,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6cbf6d6f6b4181e314eef599f85d6c5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_Snapshot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes an FTI snapshot or recover the data if it is a restart. </p>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_SCES if successful.</dd></dl>
<p>This function loads the checkpoint data from the checkpoint file in case of restart. Otherwise, it checks if the current iteration requires checkpointing, if it does it checks which checkpoint level, write the data in the files and it communicates with the head of the node to inform that a checkpoint has been taken. Checkpoint ID and counters are updated. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="api_8c_a6cbf6d6f6b4181e314eef599f85d6c5b_cgraph.png" border="0" usemap="#api_8c_a6cbf6d6f6b4181e314eef599f85d6c5b_cgraph" alt=""/></div>
<map name="api_8c_a6cbf6d6f6b4181e314eef599f85d6c5b_cgraph" id="api_8c_a6cbf6d6f6b4181e314eef599f85d6c5b_cgraph">
<area shape="rect" id="node2" href="tools_8c.html#a950803008f7cef4892fbba9b2069928e" title="Receive the return code of a function and print a message. " alt="" coords="913,259,981,285"/><area shape="rect" id="node3" href="tools_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages. " alt="" coords="1113,436,1189,463"/><area shape="rect" id="node4" href="api_8c.html#ab761c55656aab212daf8e6f447ec2214" title="It loads the checkpoint data. " alt="" coords="347,917,445,944"/><area shape="rect" id="node5" href="tools_8c.html#a8cbc6d4dbac880f834ca50d04191c194" title="It erases the previous checkpoints and their metadata. " alt="" coords="695,867,777,893"/><area shape="rect" id="node7" href="checkpoint_8c.html#ab9ee1b740983d6af6116e3a923f36d3c" title="It updates the local and global mean iteration time. " alt="" coords="157,968,296,995"/><area shape="rect" id="node8" href="api_8c.html#a85ccf559fcbee51bd335ba2c6671eadf" title="It takes the checkpoint and triggers the post&#45;ckpt. work. " alt="" coords="169,309,284,336"/><area shape="rect" id="node6" href="tools_8c.html#ac4bfe54a9748e8915a5a43c17b334452" title="It erases a directory and all its files. " alt="" coords="903,867,990,893"/><area shape="rect" id="node9" href="checkpoint_8c.html#ab6916fde75e5f974a3e179d2ba507f99" title="It writes the checkpoint data in the target file. " alt="" coords="502,220,610,247"/><area shape="rect" id="node17" href="checkpoint_8c.html#a5129de15629eb7b6c51f6561f4cc88b0" title="Decides wich action start depending on the ckpt. level. " alt="" coords="344,512,448,539"/><area shape="rect" id="node10" href="meta_8c.html#afa3bd0c0d0bbaaa91091eac4aa5086e7" title="It writes the metadata to recover the data after a failure. " alt="" coords="665,157,807,184"/><area shape="rect" id="node11" href="meta_8c.html#afe1bb8f30f411e9c18c73c809e30b95b" title="It writes the metadata to recover the data after a failure. " alt="" coords="879,56,1014,83"/><area shape="rect" id="node12" href="iniparser_8h.html#ab0be559bfb769224b3f1b75e26242a67" title="Parse an ini file and return an allocated dictionary object. " alt="" coords="1099,245,1202,272"/><area shape="rect" id="node13" href="iniparser_8h.html#ad526324b54dbfe04d636360883f4f874" title="Set an entry in a dictionary. " alt="" coords="1103,56,1199,83"/><area shape="rect" id="node14" href="iniparser_8h.html#a2ecced40f104f8d629748bb12c1f6b6b" title="Delete an entry in a dictionary. " alt="" coords="1095,107,1206,133"/><area shape="rect" id="node15" href="iniparser_8h.html#a90549ee518523921886b74454ff872eb" title="Free all memory associated to an ini dictionary. " alt="" coords="1090,169,1211,196"/><area shape="rect" id="node16" href="iniparser_8h.html#aece0e32de371c9e9592d8333f816dfac" title="Save a dictionary to a loadable ini file. " alt="" coords="1085,5,1216,32"/><area shape="rect" id="node18" href="checkpoint_8c.html#a4df9eb5e3f10cc6d0f1cba99963905f2" title="Decides wich action start depending on the ckpt. level. " alt="" coords="497,765,615,792"/><area shape="rect" id="node19" href="postckpt_8c.html#a2e93ca78c1ede39396bf24611d710230" title="It flushes the local ckpt. files in to the PFS. " alt="" coords="695,512,777,539"/><area shape="rect" id="node23" href="postckpt_8c.html#a02243a83a12aeccae0898a8923b5c209" title="It performs RS encoding with the ckpt. files in to the group. " alt="" coords="691,563,781,589"/><area shape="rect" id="node27" href="postckpt_8c.html#a8205b15e7b74f2f118ec2bef4ffa6878" title="It copies ckpt. files in to the partner node. " alt="" coords="696,411,776,437"/><area shape="rect" id="node28" href="postckpt_8c.html#a0ea7bcdf7b7389f68ade3cd2ab2ef9de" title="It returns FTI_SCES. " alt="" coords="696,461,776,488"/><area shape="rect" id="node20" href="meta_8c.html#aded40228f27b54245ba7e64123fbac6f" title="It gets the metadata to recover the data after a failure. " alt="" coords="897,309,996,336"/><area shape="rect" id="node21" href="iniparser_8h.html#a7894f8480e1f254d4a1b4a31bdc51b46" title="Get the string associated to a key. " alt="" coords="1087,303,1215,329"/><area shape="rect" id="node22" href="iniparser_8h.html#a694eb1110f4200db8648820a0bb405fa" title="Get the string associated to a key, convert to an int. " alt="" coords="1095,353,1206,380"/><area shape="rect" id="node24" href="galois_8h.html#a9ccbbf5999f106f9b37e21f821405b87" title="galois_single_divide" alt="" coords="877,512,1016,539"/><area shape="rect" id="node25" href="galois_8h.html#a0227afc578ca49a616fca5b345ec9eca" title="galois_region_xor" alt="" coords="885,563,1008,589"/><area shape="rect" id="node26" href="galois_8h.html#a6d319cb970af33cd6aa7820630bc4b3d" title="galois_w16_region_multiply" alt="" coords="856,613,1037,640"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5222b52e6f1d6b737f4ec1b173f362f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_Status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It returns the current status of the recovery flag. </p>
<dl class="section return"><dt>Returns</dt><dd>integer FTI_Exec.reco</dd></dl>
<p>This function returns the current status of the recovery flag. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 13 2014 23:12:14 for Fault Tolerance Interface by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
